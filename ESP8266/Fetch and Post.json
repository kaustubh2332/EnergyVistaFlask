{"files":[{"id":"e69ab1ab-bc53-45c1-99f1-c00cade56e1f","name":"appsscript","type":"json","source":"{\n  \"timeZone\": \"Asia/Kolkata\",\n  \"dependencies\": {\n  },\n  \"exceptionLogging\": \"STACKDRIVER\",\n  \"runtimeVersion\": \"V8\"\n}"},{"id":"0c4685f5-7b9c-47c8-9aec-7259367e8173","name":"Code","type":"server_js","source":"function fetchDataAndPost() {\n  // First URL: Fetching data\n  const firstUrl \u003d \"https://script.google.com/macros/s/AKfycbx4suwMYqgGeVUAXvaoAsXRcEQXnSS6QHcbktarPVCxEd0yCaewa9jUSqGHNSmDPGhn/exec?module\u003dMODULE25\";\n  \n  // Fetch data from the first URL\n  const response \u003d UrlFetchApp.fetch(firstUrl);\n  \n  // Parse the response to a JSON object\n  const data \u003d JSON.parse(response.getContentText());\n  delete data.module;\n  // Second URL: Posting data\n  const secondUrl \u003d \"https://tandem.autodesk.com/api/v1/timeseries/models/urn:adsk.dtm:YZYTJvY8TiW7cBJ73evprQ/streams/AQAAACyAPh9tlETQj5pdbbZC-fcAAAAA\";\n  \n  // Username and password (you can also store these securely)\n  const username \u003d \"\";\n  const password \u003d \"-FLzELV1Rg-7DuMh8b8s7g\"; // Use the correct password or leave it empty if none is required.\n  \n  // Encode username and password in base64\n  const authHeader \u003d \"Basic \" + Utilities.base64Encode(username + \":\" + password);\n  \n  // Create options for the POST request\n  const options \u003d {\n    \"method\": \"post\",\n    \"contentType\": \"application/json\",\n    \"payload\": JSON.stringify(data),\n    \"headers\": {\n      \"Authorization\": authHeader\n    }\n  };\n  \n  // Post the data to the second URL\n  const postResponse \u003d UrlFetchApp.fetch(secondUrl, options);\n  \n  // Log the response from the POST request\n  Logger.log(postResponse.getContentText());\n}\n"},{"id":"a9709ded-124c-41a3-969f-749fd72bc5f1","name":"Copy of Code","type":"server_js","source":"function fetchDataAndPostForMultipleModules(module_code,password,secondUrl) {\n  console.log(module_code);\n\n  // First URL: Fetching data\n  const firstUrl \u003d \"https://script.google.com/macros/s/AKfycbx4suwMYqgGeVUAXvaoAsXRcEQXnSS6QHcbktarPVCxEd0yCaewa9jUSqGHNSmDPGhn/exec?module\u003dMODULE\"+module_code;\n  \n  // Fetch data from the first URL\n  const response \u003d UrlFetchApp.fetch(firstUrl);\n \n  // Parse the response to a JSON object\n  const data \u003d JSON.parse(response.getContentText());\n  if (data.module) {\n  delete data.module;\n  data.Timestamp \u003d data.Timestamp.replace(\"2024\", \"2025\");\n  data.Timestamp \u003d data.Timestamp.replace(\" \", \"T\")+\"Z\";\n  //console.log(data);\n\n\n  // Second URL: Posting data\n  \n  // Username and password (you can also store these securely)\n  const username \u003d \"\";\n  \n  // Encode username and password in base64\n  const authHeader \u003d \"Basic \" + Utilities.base64Encode(username + \":\" + password);\n  \n  // Create options for the POST request\n  const options \u003d {\n    \"method\": \"post\",\n    \"contentType\": \"application/json\",\n    \"payload\": JSON.stringify(data),\n    \"headers\": {\n      \"Authorization\": authHeader\n    }\n  };\n  \n  // Post the data to the second URL\n  const postResponse \u003d UrlFetchApp.fetch(secondUrl, options);\n  \n  // Log the response from the POST request\n  Logger.log(postResponse.getContentText());\n  }\n}\n\nfunction run() {\nmodule_map \u003d [\n\n[\"25\",\n\"-FLzELV1Rg-7DuMh8b8s7g\",\n\"https://tandem.autodesk.com/api/v1/timeseries/models/urn:adsk.dtm:YZYTJvY8TiW7cBJ73evprQ/streams/AQAAACyAPh9tlETQj5pdbbZC-fcAAAAA\"],\n\n\n\n[\"29\",\n\"PWtPUpy4RTKLEGUfq78f5w\",\n\"https://tandem.autodesk.com/api/v1/timeseries/models/urn:adsk.dtm:YZYTJvY8TiW7cBJ73evprQ/streams/AQAAAHojRDBLT0ggjbwkKqnDIBsAAAAA\"],\n\n[\"30\",\n\"8OjzHoWJTrakTqAGF5t7Rw\",\n\"https://tandem.autodesk.com/api/v1/timeseries/models/urn:adsk.dtm:YZYTJvY8TiW7cBJ73evprQ/streams/AQAAACF7AluCVEKTtqKUdzXTJtoAAAAA\"],\n\n[\"31\",\n\"S7vDTxJ8Sey3M7wkuFlb4w\",\n\"https://tandem.autodesk.com/api/v1/timeseries/models/urn:adsk.dtm:YZYTJvY8TiW7cBJ73evprQ/streams/AQAAAF5Eq-7oqkhvkBwdTS-R_f8AAAAA\"],\n\n\n[\"21\",\n\"Yr8nnJy3QMSNajctWT22Vg\",\n\"https://tandem.autodesk.com/api/v1/timeseries/models/urn:adsk.dtm:YZYTJvY8TiW7cBJ73evprQ/streams/AQAAALh7X7WIa0W9kNC2c1j2LqQAAAAA\"],\n\n\n\n[\"32\",\n\"46g2lHyISPmnwNlJC4gMwQ\",\n\"https://tandem.autodesk.com/api/v1/timeseries/models/urn:adsk.dtm:YZYTJvY8TiW7cBJ73evprQ/streams/AQAAAILbhYCXTEP4kenyBghBoSAAAAAA\"],\n\n\n\n[\"28\",\n\"BSej1YkFQ6SLq39Bn-YgtA\",\n\"https://tandem.autodesk.com/api/v1/timeseries/models/urn:adsk.dtm:YZYTJvY8TiW7cBJ73evprQ/streams/AQAAABgdi_GFNkVloa3rOd0j8mkAAAAA\"],\n\n\n[\"26\",\n\"gEjb5CyxT0CZLxmriAgnqA\",\n\"https://tandem.autodesk.com/api/v1/timeseries/models/urn:adsk.dtm:YZYTJvY8TiW7cBJ73evprQ/streams/AQAAAFYtGZGs1UZYtmIhlGzHhJYAAAAA\"],\n\n\n[\"27\",\n\"rGi6PPSkTGqMz5R-ckYy4w\",\n\"https://tandem.autodesk.com/api/v1/timeseries/models/urn:adsk.dtm:YZYTJvY8TiW7cBJ73evprQ/streams/AQAAAB9aKlTs4UfjryNVsVbidl8AAAAA\"],\n\n\n[\"23\",\n\"BfLilHKVTLqTnfbtJRzuNw\",\n\"https://tandem.autodesk.com/api/v1/timeseries/models/urn:adsk.dtm:YZYTJvY8TiW7cBJ73evprQ/streams/AQAAAB6ILTIhbUNxmt-rC5MPZkQAAAAA\"],\n\n[\"22\",\n\"FVxNDzgGRdC4_XbefHudAQ\",\n\"https://tandem.autodesk.com/api/v1/timeseries/models/urn:adsk.dtm:YZYTJvY8TiW7cBJ73evprQ/streams/AQAAAG2jSjeT5E-hsOCwFZmPjT8AAAAA\"],\n\n\n[\"24\",\n\"uJ-tnSKJS0mnkAAsSZy8JA\",\n\"https://tandem.autodesk.com/api/v1/timeseries/models/urn:adsk.dtm:YZYTJvY8TiW7cBJ73evprQ/streams/AQAAAEXld0j9TEmSj1-plGUpQRcAAAAA\"]\n\n\n\n\n\n\n\n\n]\n\n\n\n\nfor (i\u003d0; i\u003cmodule_map.length; i++) {\n  module_code \u003d module_map[i][0];\n  password \u003d module_map[i][1];\n  secondUrl  \u003d module_map[i][2];\n  fetchDataAndPostForMultipleModules(module_code,password,secondUrl);\n}\n\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"}]}